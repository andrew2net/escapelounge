#hint-open-animation
  %svg{ version: '1.1', baseProfile: 'full', xmlns: 'http://www.w3.org/2000/svg',
      width: 300, height: 190, style: 'margin-bottom:-5px' }
    %defs
      %g{ id: 'KeyHole' }
        %polygon{ points: '125 105 175 105 185 170 115 170' }
        %circle{ cx: 150, cy: 85, r: 32 }
      %clippath{ id: 'holeClip' }
        %circle{ cx: 150, cy: 85, r: 32 }
      %g{ id: 'KeyHoleShadow' }
        %circle{ cx: 150, cy: 85, r: 37 }
        %polygon{ points: '120 105 180 105 190 175 110 175' }
      %g{ id: 'Pupil' }
        %path.fill-orange{ d: 'M150 63 q-17 22 0 44 m0 0 q17 -22 0 -44', fill: '#ef7918' }
        %path{ d: 'M150 70 q-10 15 0 30 m0 0 q10 -15 0 -30', fill: 'black' }
        %circle{ cx: 150, cy: 80, r: 2, fill: 'white' }
      %filter{ id: 'shadow', x: 0, y: 0, width: '200%', height: '200%' }
        %feOffset{ result: 'offOut', in: 'SourceAlpha', dx: 1, dy: 1 }
        %feGaussianBlur{ result: 'blurOut', in: 'offOut', stdDeviation: 2 }
        %feBlend{ in: 'SourceGraphic', in2: 'blurOut', mode: 'normal' }

    -# Background
    %rect.fill-orange{ width: '100%', height: '100%' }

    -# Keyhole
    %use.fill-gray{ 'xlink:href' => '#KeyHoleShadow', 'fill-opacity' => 0.5 }

    %g#eyelid
      %use{ 'xlink:href' => '#KeyHole', fill: 'black' }

      -# Eye
      %g#eye-in-keyhole{ data: { url: user_game_step_hint_url(user_game, step), hint_id: hint.id, value: hint.value } }
        %circle{ cx: 150, cy: 85, r: 30, fill: 'white' }
        -# Pupil
        %g#pupil-in-keyhole
          %use{ 'xlink:href' => '#Pupil' }

    %g{ 'clip-path' => 'url(#holeClip)' }
      %circle#key-in-keyhole{ cx: 150, cy: 166, r: 50, fill: 'black' }

    %g#hint-open-bubble
      %path{ d: 'M150 60 l-10 -10 h-70 c-23 -5 -23 -41 0 -46 h160 c23 5 23 41 0 46 h-70 l-10 10',
        fill: 'white', filter: 'url(#shadow)' }
      %text.fill-gray{ x: 107, y: 20, 'font-size' => 15 }
        Need a hint?
      %text.fill-gray{ x: 90, y: 33 }
        Click me to use a clue!
      %text.fill-gray{ x: 73, y: 46, 'font-size' => 10 }
        reduce the remaining time by #{hint.value} s
